{"ast":null,"code":"import PDFName from \"../objects/PDFName\";\nimport PDFNumber from \"../objects/PDFNumber\";\nimport PDFArray from \"../objects/PDFArray\";\nimport PDFHexString from \"../objects/PDFHexString\";\nimport PDFString from \"../objects/PDFString\";\nvar AppearanceCharacteristics = /** @class */function () {\n  function AppearanceCharacteristics(dict) {\n    this.dict = dict;\n  }\n  AppearanceCharacteristics.prototype.R = function () {\n    var R = this.dict.lookup(PDFName.of('R'));\n    if (R instanceof PDFNumber) return R;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.BC = function () {\n    var BC = this.dict.lookup(PDFName.of('BC'));\n    if (BC instanceof PDFArray) return BC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.BG = function () {\n    var BG = this.dict.lookup(PDFName.of('BG'));\n    if (BG instanceof PDFArray) return BG;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.CA = function () {\n    var CA = this.dict.lookup(PDFName.of('CA'));\n    if (CA instanceof PDFHexString || CA instanceof PDFString) return CA;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.RC = function () {\n    var RC = this.dict.lookup(PDFName.of('RC'));\n    if (RC instanceof PDFHexString || RC instanceof PDFString) return RC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.AC = function () {\n    var AC = this.dict.lookup(PDFName.of('AC'));\n    if (AC instanceof PDFHexString || AC instanceof PDFString) return AC;\n    return undefined;\n  };\n  AppearanceCharacteristics.prototype.getRotation = function () {\n    var _a;\n    return (_a = this.R()) === null || _a === void 0 ? void 0 : _a.asNumber();\n  };\n  AppearanceCharacteristics.prototype.getBorderColor = function () {\n    var BC = this.BC();\n    if (!BC) return undefined;\n    var components = [];\n    for (var idx = 0, len = BC === null || BC === void 0 ? void 0 : BC.size(); idx < len; idx++) {\n      var component = BC.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n    return components;\n  };\n  AppearanceCharacteristics.prototype.getBackgroundColor = function () {\n    var BG = this.BG();\n    if (!BG) return undefined;\n    var components = [];\n    for (var idx = 0, len = BG === null || BG === void 0 ? void 0 : BG.size(); idx < len; idx++) {\n      var component = BG.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n    return components;\n  };\n  AppearanceCharacteristics.prototype.getCaptions = function () {\n    var CA = this.CA();\n    var RC = this.RC();\n    var AC = this.AC();\n    return {\n      normal: CA === null || CA === void 0 ? void 0 : CA.decodeText(),\n      rollover: RC === null || RC === void 0 ? void 0 : RC.decodeText(),\n      down: AC === null || AC === void 0 ? void 0 : AC.decodeText()\n    };\n  };\n  AppearanceCharacteristics.prototype.setRotation = function (rotation) {\n    var R = this.dict.context.obj(rotation);\n    this.dict.set(PDFName.of('R'), R);\n  };\n  AppearanceCharacteristics.prototype.setBorderColor = function (color) {\n    var BC = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BC'), BC);\n  };\n  AppearanceCharacteristics.prototype.setBackgroundColor = function (color) {\n    var BG = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BG'), BG);\n  };\n  AppearanceCharacteristics.prototype.setCaptions = function (captions) {\n    var CA = PDFHexString.fromText(captions.normal);\n    this.dict.set(PDFName.of('CA'), CA);\n    if (captions.rollover) {\n      var RC = PDFHexString.fromText(captions.rollover);\n      this.dict.set(PDFName.of('RC'), RC);\n    } else {\n      this.dict.delete(PDFName.of('RC'));\n    }\n    if (captions.down) {\n      var AC = PDFHexString.fromText(captions.down);\n      this.dict.set(PDFName.of('AC'), AC);\n    } else {\n      this.dict.delete(PDFName.of('AC'));\n    }\n  };\n  AppearanceCharacteristics.fromDict = function (dict) {\n    return new AppearanceCharacteristics(dict);\n  };\n  return AppearanceCharacteristics;\n}();\nexport default AppearanceCharacteristics;","map":{"version":3,"mappings":"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","names":["PDFName","PDFNumber","PDFArray","PDFHexString","PDFString","dict","AppearanceCharacteristics","R","lookup","of","undefined","BC","BG","CA","RC","AC","asNumber","components","idx","len","size","component","get","push","normal","decodeText","rollover","down","rotation","context","obj","set","color","captions","fromText","delete"],"sourceRoot":"","sources":["../../../src/core/annotation/AppearanceCharacteristics.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}