{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Navbar from'../NavBar/NavBarSGI';import React,{useEffect,useState}from'react';import'./RegistroDeNaoConformidade.css';import Conexao from'../../Config/conexao';import axios from'axios';import emailjs from'@emailjs/browser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegistroDenaoconformidade(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showInput=_useState2[0],setShowInput=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),origem=_useState4[0],setOrigem=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),cliente=_useState6[0],setCliente=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),setorIdentificou=_useState8[0],setSetorIdentificou=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),setorOrigem=_useState10[0],setSetorOrigem=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),descrever=_useState12[0],setDescrever=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),documentoDoCliente=_useState14[0],setDocumentoDoCliente=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),responsavel1=_useState16[0],setResponsavel1=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),responsavel2=_useState18[0],setResponsavel2=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),reincidente=_useState20[0],setReincidente=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),descricaoproblema=_useState22[0],setDescricaoproblema=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),evidencia1=_useState24[0],setEvidencia1=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),evidencia2=_useState26[0],setEvidencia2=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),pegaProtocolo=_useState28[0],setPegaProtocolo=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),origemSetor=_useState30[0],setOrigemSetor=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),dataAtual=_useState32[0],setDataAtual=_useState32[1];/*  function Confirmacao() {\r\n    alert('Solicitação aberta com Sucesso!')\r\n    \r\n  }; \r\n */ //BANCO DE DADOS\n/*   async function add() {\r\n    const currentDate = new Date();\r\n    const formattedDate = currentDate.toLocaleDateString('pt-BR');\r\n    const obj = { origem, cliente, setorIdentificou, setorOrigem, descrever, documentoDoCliente, responsavel1, responsavel2, reincidente, descricaoproblema, evidencia1, evidencia2, origemSetor, dataAtual: formattedDate, imagem: imagemPreview };\r\n   \r\n    const res = await axios.post(Conexao.api+ 'InsertRegistroDeNaoConformidadeWEB.php', obj);\r\n    if (res.data.success === true) {\r\n    SelecioneOEmail();\r\n    }\r\n    Limpar() \r\n   \r\n  }; */function add(){return _add.apply(this,arguments);}function _add(){_add=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var camposVazios,camposNaoPreenchidos,substatu,obj,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Array para armazenar os nomes dos campos vazios\ncamposVazios=[];// Verificar se todos os campos obrigatórios estão preenchidos\nif(!origem)camposVazios.push(\"Origem\");if(!cliente)camposVazios.push(\"Cliente\");if(!setorIdentificou)camposVazios.push(\"Setor Identificou\");if(!setorOrigem)camposVazios.push(\"Setor Origem\");if(!reincidente)camposVazios.push(\"Reincidente\");if(!descricaoproblema)camposVazios.push(\"Descrição do Problema\");if(!evidencia1)camposVazios.push(\"Evidência 1\");if(!(camposVazios.length>0)){_context.next=12;break;}camposNaoPreenchidos=camposVazios.join(\", \");alert(\"Por favor, preencha os seguintes campos obrigat\\xF3rios: \".concat(camposNaoPreenchidos));return _context.abrupt(\"return\");case 12:substatu='Aberto';obj={origem:origem,cliente:cliente,setorIdentificou:setorIdentificou,setorOrigem:setorOrigem,descrever:descrever,documentoDoCliente:documentoDoCliente,responsavel1:responsavel1,responsavel2:responsavel2,reincidente:reincidente,descricaoproblema:descricaoproblema,evidencia1:evidencia1,evidencia2:evidencia2,origemSetor:origemSetor,dataAtual:dataAtual,imagem:imagemPreview,substatu:substatu};_context.prev=14;_context.next=17;return axios.post(Conexao.api+'InsertRegistroDeNaoConformidadeWEB.php',obj);case 17:res=_context.sent;//  const res = await axios.post(  + 'InsertAberturaOSManutencao.php', obj);\nif(res.data.success===true){SelecioneOEmail();}_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](14);// Tratar erros caso ocorram durante a requisição\nconsole.error('Erro ao tentar adicionar:',_context.t0);case 24:Limpar();case 25:case\"end\":return _context.stop();}}},_callee,null,[[14,21]]);}));return _add.apply(this,arguments);};//Enviar E-mail\nfunction getItemQSSMA(){return _getItemQSSMA.apply(this,arguments);}function _getItemQSSMA(){_getItemQSSMA=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,TemplateParam;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(Conexao.api+'BuscarProtocoloRNCWEB.php');case 2:res=_context2.sent;setPegaProtocolo(res.data.pegaProtocolo);console.log(\"TESTE DE PROTOCOLO \"+res.data.pegaProtocolo);if(res.data.success===false){}else{TemplateParam={mensage:res.data.pegaProtocolo};emailjs.send(\"service_x40cz13\",\"template_g1qkzlr\",TemplateParam,\"8wUT7xbpjnJI-SAuM\").then(function(response){console.log(\"e-mail enviado\",response.status,response.text);},function(erro){console.log(\"erro:\",erro);});// alert(\"e-mail enviado\")\nconsole.log(\"EMAIL ENVIADO  ...\");alert('Registro de NC realizado com sucesso!   RNC: '+res.data.pegaProtocolo);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _getItemQSSMA.apply(this,arguments);};function getItemRH(){return _getItemRH.apply(this,arguments);}function _getItemRH(){_getItemRH=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res,TemplateParam;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(Conexao.api+'BuscarProtocoloRNCWEB.php');case 2:res=_context3.sent;setPegaProtocolo(res.data.pegaProtocolo);console.log(\"TESTE DE PROTOCOLO \"+res.data.pegaProtocolo);if(res.data.success===false){}else{TemplateParam={mensage:pegaProtocolo};emailjs.send(\"service_x40cz13\",\"template_s45zlua\",TemplateParam,\"8wUT7xbpjnJI-SAuM\").then(function(response){console.log(\"e-mail enviado\",response.status,response.text);},function(erro){console.log(\"erro:\",erro);});console.log(\"EMAIL ENVIADO  ...\");alert('Registro de NC realizado com sucesso!    RNC: '+res.data.pegaProtocolo);}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _getItemRH.apply(this,arguments);};var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),nomeResponsavel=_useState34[0],setNomeResponsavel=_useState34[1];function getResponsavel(){return _getResponsavel.apply(this,arguments);}function _getResponsavel(){_getResponsavel=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(Conexao.api+'ListaCadastroDeResponsaveisWEB.php?origemSetor='+setorOrigem);case 2:res=_context4.sent;/* console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo) */if(res.data.success===false){}else{setNomeResponsavel(res.data.result);}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _getResponsavel.apply(this,arguments);};useEffect(function(){getResponsavel();});var _useState35=useState([]),_useState36=_slicedToArray(_useState35,2),nomeResponsavel2=_useState36[0],setNomeResponsavel2=_useState36[1];function getResponsavel2(){return _getResponsavel2.apply(this,arguments);}function _getResponsavel2(){_getResponsavel2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(Conexao.api+'ListaCadastroDeResponsaveisWEB.php?origemSetor='+setorIdentificou);case 2:res=_context5.sent;/* console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo) */if(res.data.success===false){}else{// LimpaResponsavel(); \nsetNomeResponsavel2(res.data.result);}case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _getResponsavel2.apply(this,arguments);};useEffect(function(){getResponsavel2();},[setorIdentificou]);function SelecioneOEmail(e){if(setorOrigem==='QSSMA'){getItemQSSMA(e);}else if(setorOrigem==='RH'){getItemRH(e);}else if(setorOrigem==='Geotecnia'){getItemRH();}else if(setorOrigem==='Comercial'){getItemRH();}else if(setorOrigem==='Laboratório'){getItemRH();}else if(setorOrigem==='Manutençao'){getItemRH();}else if(setorOrigem==='Pesquisa e Mineral'){getItemRH();}else if(setorOrigem==='Compras'){getItemRH();}else{alert('Setor de origem não selecionado ');}};var handleSelectChange=function handleSelectChange(e){if(e.target.value==='Outros'){setShowInput(true);console.log('selecionado');}else{setShowInput(false);console.log('não selecionado');}};function Limpar(){setOrigem('');setCliente('');setSetorIdentificou('');setSetorOrigem('');setDescrever('');setDocumentoDoCliente('');setResponsavel1('');setResponsavel2('');setReincidente('');setDescricaoproblema('');setEvidencia1('');setEvidencia2('');setOrigemSetor('');setImagem('');setImagemPreview('');setDataAtual('');};var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),imagem=_useState38[0],setImagem=_useState38[1];var _useState39=useState(),_useState40=_slicedToArray(_useState39,2),imagemPreview=_useState40[0],setImagemPreview=_useState40[1];var handleDescricaoChange=function handleDescricaoChange(e){setDescricaoproblema(e.target.value);};var handleImagemChange=function handleImagemChange(e){var file=e.target.files[0];setImagem(file);// Criando uma URL temporária para exibir a prévia da imagem selecionada\nvar reader=new FileReader();reader.onloadend=function(){setImagemPreview(reader.result);};if(file){reader.readAsDataURL(file);}};var handleDownloadClick=function handleDownloadClick(){// Verifica se a imagem está disponível para download\nif(imagemPreview){var link=document.createElement('a');link.href=imagemPreview;link.download=\"imagem_selecionada.jpg\";// O nome que você quer dar ao arquivo baixado\nlink.click();}else{console.log(\"Nenhuma imagem selecionada para download.\");}};return/*#__PURE__*/_jsxs(\"body\",{onLoad:handleSelectChange,children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"titulolaboratorio container-fluid\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"texttitulo\",children:\"REGISTRO DE N\\xC3O CONFORMIDADE\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"body\",{class:\"container text-center  \",children:/*#__PURE__*/_jsx(\"div\",{class:\"col  align-items-center justify-content-center p-1 \",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row d-flex align-items-center justify-content-center \",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-2\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Origem\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"Origem\",id:\"Origem\",className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setOrigem(e.target.value);},onClick:handleSelectChange,value:origem,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Auditoria Interna\",children:\"Auditoria Interna\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Auditoria Externa\",children:\"Auditoria Externa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Oportunidade de melhoria\",children:\"Oportunidade de melhoria\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Reclama\\xE7\\xE3o do cliente\",children:\"Reclama\\xE7\\xE3o do cliente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Processos Internos\",children:\"Processos Internos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Outros\",children:\"Outros\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-2 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-center colorInput \",onChange:function onChange(e){return setCliente(e.target.value);},value:cliente})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Setor que identificou a NC\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"Origem\",id:\"Origem\",className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setSetorIdentificou(e.target.value);},value:setorIdentificou,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QSSMA\",children:\"QSSMA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RH\",children:\"RH\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Geotecnia\",children:\"Geotecnia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Comercial\",children:\"Comercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Laborat\\xF3rio\",children:\"Laborat\\xF3rio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manuten\\xE7ao\",children:\"Manuten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pesquisa e Mineral\",children:\"Pesquisa e Mineral\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Compras\",children:\"Compras\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Diretoria\",children:\"Diretoria\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Setor de origem da NC\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"Origem\",id:\"Origem\",className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setSetorOrigem(e.target.value);},value:setorOrigem,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QSSMA\",children:\"QSSMA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RH\",children:\"RH\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Geotecnia\",children:\"Geotecnia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Comercial\",children:\"Comercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Laborat\\xF3rio\",children:\"Laborat\\xF3rio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manuten\\xE7ao\",children:\"Manuten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pesquisa e Mineral\",children:\"Pesquisa e Mineral\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Compras\",children:\"Compras\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Diretoria\",children:\"Diretoria\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-2\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Data abertura NC\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\" form-control align-items-center text-start colorInput \",onChange:function onChange(e){return setDataAtual(e.target.value);},value:dataAtual})]})]})})}),showInput===true?/*#__PURE__*/_jsxs(\"div\",{class:\"row d-flex  text-center align-items-center  \",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-1 offset-1 me-5 \"}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-3 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"textarea\",{cols:30,rows:3,className:\"form-control colorInput  resize \",onChange:function onChange(e){return setDescrever(e.target.value);},value:descrever})]})]}):null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"body\",{class:\"container text-center  \",children:/*#__PURE__*/_jsx(\"div\",{class:\"col  align-items-center justify-content-center p-1 \",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row d-flex align-items-center justify-content-center \",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-2 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\xC9 Reincidente?\"}),/*#__PURE__*/_jsxs(\"select\",{className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setReincidente(e.target.value);},value:reincidente,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sim\",children:\"Sim\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nao\",children:\"N\\xE3o\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-2 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Documento do cliente\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control text-center colorInput \",onChange:function onChange(e){return setDocumentoDoCliente(e.target.value);},value:documentoDoCliente})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Respons\\xE1vel\"}),/*#__PURE__*/_jsxs(\"select\",{className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setResponsavel1(e.target.value);},value:responsavel1,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),nomeResponsavel2.map(function(equipamento){return/*#__PURE__*/_jsxs(\"option\",{children:[\" \",equipamento.nome,\" \"]},equipamento.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Respons\\xE1vel\"}),/*#__PURE__*/_jsxs(\"select\",{className:\" form-select align-items-center text-start colorInput \",onChange:function onChange(e){return setResponsavel2(e.target.value);},value:responsavel2,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"...\",children:\"Selecione...\"}),nomeResponsavel.map(function(equipamento){return/*#__PURE__*/_jsxs(\"option\",{children:[\" \",equipamento.nome,\" \"]},equipamento.id);})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-2\"})]})})}),/*#__PURE__*/_jsxs(\"body\",{class:\"container text-center p-2 mt-4 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Descri\\xE7\\xE3o detalhada do problema \"}),/*#__PURE__*/_jsx(\"textarea\",{cols:77,rows:4,className:\"form-control colorInput  resize \",onChange:function onChange(e){return setDescricaoproblema(e.target.value);},value:descricaoproblema}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-3\",type:\"file\",onChange:handleImagemChange}),imagemPreview&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:imagemPreview,alt:\"Pr\\xE9via da imagem\",style:{maxWidth:'100px'}})}),imagem&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadClick,children:\"Download\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h6\",{className:\"mt-4\",children:\"Evid\\xEAncias \"}),/*#__PURE__*/_jsx(\"textarea\",{cols:77,rows:4,className:\"form-control colorInput  resize \",onChange:function onChange(e){return setEvidencia1(e.target.value);},value:evidencia1}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row d-flex align-items-end justify-content-end \",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return add(e);},class:\"btnlogin \",children:\"Salvar\"})})})]});}export default RegistroDenaoconformidade;","map":{"version":3,"names":["Navbar","React","useEffect","useState","Conexao","axios","emailjs","RegistroDenaoconformidade","showInput","setShowInput","origem","setOrigem","cliente","setCliente","setorIdentificou","setSetorIdentificou","setorOrigem","setSetorOrigem","descrever","setDescrever","documentoDoCliente","setDocumentoDoCliente","responsavel1","setResponsavel1","responsavel2","setResponsavel2","reincidente","setReincidente","descricaoproblema","setDescricaoproblema","evidencia1","setEvidencia1","evidencia2","setEvidencia2","pegaProtocolo","setPegaProtocolo","origemSetor","setOrigemSetor","dataAtual","setDataAtual","add","camposVazios","push","length","camposNaoPreenchidos","join","alert","substatu","obj","imagem","imagemPreview","post","api","res","data","success","SelecioneOEmail","console","error","Limpar","getItemQSSMA","get","log","TemplateParam","mensage","send","then","response","status","text","erro","getItemRH","nomeResponsavel","setNomeResponsavel","getResponsavel","result","nomeResponsavel2","setNomeResponsavel2","getResponsavel2","e","handleSelectChange","target","value","setImagem","setImagemPreview","handleDescricaoChange","handleImagemChange","file","files","reader","FileReader","onloadend","readAsDataURL","handleDownloadClick","link","document","createElement","href","download","click","map","equipamento","nome","id","maxWidth"],"sources":["C:/Users/sulli/Git/GeoWeb/src/app/SGI/RNC/RegistroDeNaoConformidade.jsx"],"sourcesContent":["import Navbar from '../NavBar/NavBarSGI';\r\nimport React, { useEffect, useState } from 'react';\r\nimport './RegistroDeNaoConformidade.css';\r\nimport Conexao from '../../Config/conexao';\r\nimport axios from 'axios';\r\nimport emailjs from '@emailjs/browser';\r\n\r\n\r\nfunction RegistroDenaoconformidade() {\r\n\r\n  const [showInput, setShowInput] = useState(true);\r\n\r\n  const[origem,setOrigem]=useState();\r\n  const[cliente,setCliente]=useState();\r\n  const[setorIdentificou,setSetorIdentificou]=useState();\r\n  const[setorOrigem,setSetorOrigem]=useState();\r\n  const[descrever,setDescrever]=useState();\r\n  const[documentoDoCliente,setDocumentoDoCliente]=useState();\r\n  const[responsavel1,setResponsavel1]=useState();\r\n  const[responsavel2,setResponsavel2]=useState();\r\n  const[reincidente,setReincidente]=useState();\r\n  const[descricaoproblema,setDescricaoproblema]=useState();\r\n  const[evidencia1,setEvidencia1]=useState();\r\n  const[evidencia2,setEvidencia2]=useState();\r\n  const[pegaProtocolo,setPegaProtocolo]=useState();\r\n  const[origemSetor,setOrigemSetor]=useState();\r\n\r\n  const[dataAtual,setDataAtual]=useState();\r\n\r\n  \r\n  \r\n\r\n\r\n /*  function Confirmacao() {\r\n    alert('Solicitação aberta com Sucesso!')\r\n    \r\n  }; \r\n */\r\n\r\n  //BANCO DE DADOS\r\n\r\n/*   async function add() {\r\n    const currentDate = new Date();\r\n    const formattedDate = currentDate.toLocaleDateString('pt-BR');\r\n    const obj = { origem, cliente, setorIdentificou, setorOrigem, descrever, documentoDoCliente, responsavel1, responsavel2, reincidente, descricaoproblema, evidencia1, evidencia2, origemSetor, dataAtual: formattedDate, imagem: imagemPreview };\r\n   \r\n    const res = await axios.post(Conexao.api+ 'InsertRegistroDeNaoConformidadeWEB.php', obj);\r\n    if (res.data.success === true) {\r\n    SelecioneOEmail();\r\n    }\r\n    Limpar() \r\n   \r\n  }; */\r\n\r\n\r\n  async function add() {\r\n    // Array para armazenar os nomes dos campos vazios\r\n    const camposVazios = [];\r\n  \r\n    // Verificar se todos os campos obrigatórios estão preenchidos\r\n    if (!origem) camposVazios.push(\"Origem\");\r\n    if (!cliente) camposVazios.push(\"Cliente\");\r\n    if (!setorIdentificou) camposVazios.push(\"Setor Identificou\");\r\n     if (!setorOrigem) camposVazios.push(\"Setor Origem\"); \r\n  \r\n \r\n    if (!reincidente) camposVazios.push(\"Reincidente\");\r\n    if (!descricaoproblema) camposVazios.push(\"Descrição do Problema\");\r\n    if (!evidencia1) camposVazios.push(\"Evidência 1\");\r\n  \r\n  \r\n    if (camposVazios.length > 0) {\r\n      const camposNaoPreenchidos = camposVazios.join(\", \");\r\n      alert(`Por favor, preencha os seguintes campos obrigatórios: ${camposNaoPreenchidos}`);\r\n      return;\r\n    }\r\n  \r\n    const substatu = 'Aberto';\r\n\r\n    const obj = { origem, cliente,  setorIdentificou, setorOrigem, descrever, documentoDoCliente, responsavel1, responsavel2,\r\n      reincidente, descricaoproblema, evidencia1,  evidencia2, origemSetor, dataAtual, imagem: imagemPreview, substatu, \r\n    };\r\n  \r\n    try {\r\n      const res = await axios.post(Conexao.api + 'InsertRegistroDeNaoConformidadeWEB.php', obj);\r\n      //  const res = await axios.post(  + 'InsertAberturaOSManutencao.php', obj);\r\n      if (res.data.success === true) {\r\n\r\n        SelecioneOEmail();\r\n      }\r\n      \r\n    } catch (error) {\r\n      // Tratar erros caso ocorram durante a requisição\r\n      console.error('Erro ao tentar adicionar:', error);\r\n    }\r\n    Limpar() \r\n  };\r\n\r\n  \r\n\r\n  //Enviar E-mail\r\n  async function getItemQSSMA() {  \r\n    const res = await axios.get(Conexao.api + 'BuscarProtocoloRNCWEB.php' ); \r\n     \r\n     setPegaProtocolo(res.data.pegaProtocolo);\r\n\r\n    console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo)\r\n  \r\n    if (res.data.success === false) { \r\n    } else {\r\n\r\n   const TemplateParam = {\r\n     mensage: res.data.pegaProtocolo\r\n   }\r\n   emailjs.send(\"service_x40cz13\", \"template_g1qkzlr\", TemplateParam, \"8wUT7xbpjnJI-SAuM\")\r\n   .then((response)=>{console.log(\"e-mail enviado\", response.status, response.text)}, (erro)=>{console.log(\"erro:\" , erro)})  \r\n  // alert(\"e-mail enviado\")\r\n  console.log(\"EMAIL ENVIADO  ...\" )\r\n\r\n\r\n\r\n  alert('Registro de NC realizado com sucesso!   RNC: ' + res.data.pegaProtocolo)\r\n\r\n    }   \r\n  };\r\n\r\n\r\n  async function getItemRH() {  \r\n    const res = await axios.get(Conexao.api + 'BuscarProtocoloRNCWEB.php' ); \r\n     \r\n     setPegaProtocolo(res.data.pegaProtocolo);\r\n\r\n    console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo)\r\n  \r\n    if (res.data.success === false) { \r\n    } else {\r\n\r\n      const TemplateParam = {\r\n        mensage: pegaProtocolo\r\n      }\r\n      emailjs.send(\"service_x40cz13\", \"template_s45zlua\", TemplateParam, \"8wUT7xbpjnJI-SAuM\")\r\n      .then((response)=>{console.log(\"e-mail enviado\", response.status, response.text)}, (erro)=>{console.log(\"erro:\" , erro)})  \r\n  console.log(\"EMAIL ENVIADO  ...\" )\r\n\r\n\r\n\r\n  alert('Registro de NC realizado com sucesso!    RNC: ' + res.data.pegaProtocolo)\r\n\r\n    }   \r\n  };\r\n\r\n  const [nomeResponsavel,setNomeResponsavel]=useState([]);\r\n\r\n\r\n  async function getResponsavel() {  \r\n    const res = await axios.get(Conexao.api + 'ListaCadastroDeResponsaveisWEB.php?origemSetor='+ setorOrigem ); \r\n     \r\n    /* console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo) */\r\n  \r\n    if (res.data.success === false) { \r\n    } else {\r\n setNomeResponsavel(res.data.result);\r\n    }   \r\n  };\r\n\r\n\r\n  useEffect(()=>{getResponsavel()});\r\n\r\n  const [nomeResponsavel2,setNomeResponsavel2]=useState([]);\r\n\r\n\r\n  async function getResponsavel2() {  \r\n    const res = await axios.get(Conexao.api + 'ListaCadastroDeResponsaveisWEB.php?origemSetor='+ setorIdentificou ); \r\n         \r\n    /* console.log(\"TESTE DE PROTOCOLO \"+ res.data.pegaProtocolo) */      \r\n    if (res.data.success === false) { \r\n    } else {\r\n    // LimpaResponsavel(); \r\n setNomeResponsavel2(res.data.result);\r\n\r\n    }   \r\n  };\r\n  useEffect(() => {\r\n    getResponsavel2();\r\n  }, [setorIdentificou]);\r\n \r\n\r\n\r\n  function SelecioneOEmail(e){ \r\n    if( setorOrigem === 'QSSMA'){getItemQSSMA(e)}\r\n    else if(setorOrigem === 'RH'){getItemRH(e)}\r\n    else if(setorOrigem === 'Geotecnia'){getItemRH()}\r\n    else if(setorOrigem === 'Comercial'){getItemRH()}\r\n    else if(setorOrigem === 'Laboratório'){getItemRH()}\r\n    else if(setorOrigem === 'Manutençao'){getItemRH()}\r\n    else if(setorOrigem === 'Pesquisa e Mineral'){getItemRH()}\r\n    else if(setorOrigem === 'Compras'){getItemRH()}\r\n    else {alert('Setor de origem não selecionado ' )}\r\n \r\n   }; \r\n\r\n\r\nconst handleSelectChange = (e) => {\r\n  if (e.target.value === 'Outros') {\r\n  setShowInput(true);\r\n  console.log('selecionado')\r\n  \r\n  } else {\r\n  setShowInput(false);\r\n  console.log('não selecionado')\r\n  }\r\n  };\r\n\r\n  function Limpar(){\r\n\r\n   setOrigem('');\r\n   setCliente('');\r\n   setSetorIdentificou('');\r\n   setSetorOrigem('');\r\n   setDescrever('');\r\n   setDocumentoDoCliente('');\r\n   setResponsavel1('');\r\n   setResponsavel2('');\r\n   setReincidente('');\r\n   setDescricaoproblema('');\r\n   setEvidencia1('');\r\n   setEvidencia2('');\r\n   setOrigemSetor('');\r\n   setImagem('');\r\n   setImagemPreview('');\r\n   setDataAtual('');\r\n   \r\n  };\r\n\r\n\r\n\r\n\r\n   \r\n\r\n  const [imagem, setImagem] = useState();\r\n  const [imagemPreview, setImagemPreview] = useState();\r\n  \r\n\r\n  const handleDescricaoChange = (e) => {\r\n    setDescricaoproblema(e.target.value);\r\n  };\r\n\r\n  const handleImagemChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImagem(file);\r\n    // Criando uma URL temporária para exibir a prévia da imagem selecionada\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      setImagemPreview(reader.result);\r\n    };\r\n    if (file) {\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleDownloadClick = () => {\r\n    // Verifica se a imagem está disponível para download\r\n    if (imagemPreview) {\r\n      const link = document.createElement('a');\r\n      link.href = imagemPreview;\r\n      link.download = \"imagem_selecionada.jpg\"; // O nome que você quer dar ao arquivo baixado\r\n      link.click();\r\n    } else {\r\n      console.log(\"Nenhuma imagem selecionada para download.\");\r\n    }\r\n  };\r\n\r\n\r\n  return <body onLoad={handleSelectChange }>\r\n    <Navbar />\r\n    <br/>\r\n    \r\n      <div className='titulolaboratorio container-fluid'>\r\n        <h1 className='texttitulo'>REGISTRO DE NÃO CONFORMIDADE</h1>\r\n      </div>    \r\n    <br/>\r\n\r\n\r\n<body class=\"container text-center  \">\r\n <div class=\"col  align-items-center justify-content-center p-1 \">\r\n    <div class=\"row d-flex align-items-center justify-content-center \">\r\n       \r\n    <div class=\"col-2\">\r\n          <h5>Origem</h5>          \r\n          <select name='Origem' id='Origem' className=' form-select align-items-center text-start colorInput ' onChange={(e) => setOrigem(e.target.value)} onClick={handleSelectChange}  value={origem} >                      \r\n             <option selected value=\"...\">Selecione...</option> \r\n             <option value=\"Auditoria Interna\">Auditoria Interna</option> \r\n             <option value=\"Auditoria Externa\">Auditoria Externa</option>\r\n             <option value=\"Oportunidade de melhoria\">Oportunidade de melhoria</option>\r\n             <option value=\"Reclamação do cliente\">Reclamação do cliente</option>\r\n             <option value=\"Processos Internos\">Processos Internos</option>\r\n             <option  value=\"Outros\">Outros</option>          \r\n          </select>    \r\n        </div>\r\n\r\n      <div class=\"col-2 \">\r\n        <h6>Cliente</h6>\r\n        <input className='form-control text-center colorInput ' onChange={(e) => setCliente(e.target.value)} value={cliente}></input>\r\n      </div>\r\n    \r\n      <div class=\"col-3\">\r\n        <h6>Setor que identificou a NC</h6>\r\n        <select name='Origem' id='Origem' className=' form-select align-items-center text-start colorInput ' onChange={(e) => setSetorIdentificou(e.target.value)}  value={setorIdentificou} >                      \r\n             <option selected value=\"...\">Selecione...</option> \r\n             <option value=\"QSSMA\">QSSMA</option> \r\n             <option value=\"RH\">RH</option>\r\n             <option value=\"Geotecnia\">Geotecnia</option>\r\n             <option value=\"Comercial\">Comercial</option>\r\n             <option value=\"Laboratório\">Laboratório</option>  \r\n             <option value=\"Manutençao\">Manutenção</option> \r\n             <option value=\"Pesquisa e Mineral\">Pesquisa e Mineral</option> \r\n             <option value=\"Compras\">Compras</option> \r\n             <option value=\"Diretoria\">Diretoria</option> \r\n            \r\n          </select>           \r\n      </div>\r\n\r\n      <div class=\"col-3\">\r\n        <h6 >Setor de origem da NC</h6>\r\n        <select name='Origem' id='Origem' className=' form-select align-items-center text-start colorInput ' onChange={(e) => setSetorOrigem(e.target.value)}  value={setorOrigem} >                      \r\n             <option selected value=\"...\">Selecione...</option> \r\n             <option value=\"QSSMA\">QSSMA</option> \r\n             <option value=\"RH\">RH</option>\r\n             <option value=\"Geotecnia\">Geotecnia</option>\r\n             <option value=\"Comercial\">Comercial</option>\r\n             <option value=\"Laboratório\">Laboratório</option>  \r\n             <option value=\"Manutençao\">Manutenção</option> \r\n             <option value=\"Pesquisa e Mineral\">Pesquisa e Mineral</option> \r\n             <option value=\"Compras\">Compras</option> \r\n             <option value=\"Diretoria\">Diretoria</option> \r\n                     \r\n          </select>           \r\n      </div>\r\n\r\n      <div class=\"col-2\">\r\n          <h6>Data abertura NC</h6>          \r\n          <input type='date' className=' form-control align-items-center text-start colorInput '  onChange={(e) => setDataAtual(e.target.value)} value={dataAtual} > \r\n  \r\n          </input>\r\n        </div>\r\n \r\n    </div>\r\n </div>\r\n</body>\r\n\r\n\r\n \r\n{showInput === true ? \r\n    <div class=\"row d-flex  text-center align-items-center  \">  \r\n    <div class=\"col-1 offset-1 me-5 \"></div>     \r\n      <div class=\"col-3 \">\r\n        <h6>Descrição</h6>\r\n        <textarea cols={30} rows={3} className='form-control colorInput  resize ' onChange={(e) => setDescrever(e.target.value)} value={descrever} ></textarea>\r\n      </div>     \r\n    </div>\r\n  : null} \r\n\r\n\r\n<br/>\r\n<body class=\"container text-center  \">\r\n <div class=\"col  align-items-center justify-content-center p-1 \">\r\n    <div class=\"row d-flex align-items-center justify-content-center \"> \r\n    \r\n       \r\n          <div class=\"col-2 \">\r\n          <h6>É Reincidente?</h6>          \r\n          <select  className=' form-select align-items-center text-start colorInput '  onChange={(e) => setReincidente(e.target.value)} value={reincidente} > \r\n             <option selected value=\"...\">Selecione...</option>                      \r\n             <option value=\"sim\">Sim</option>\r\n             <option value=\"nao\">Não</option>\r\n          </select>\r\n        </div>\r\n\r\n    <div class=\"col-2 \">\r\n        <h6>Documento do cliente</h6>\r\n        <input className='form-control text-center colorInput ' onChange={(e) => setDocumentoDoCliente(e.target.value)} value={documentoDoCliente}></input>\r\n      </div>\r\n\r\n      <div class=\"col-3\">\r\n        <h6>Responsável</h6>\r\n        <select  className=' form-select align-items-center text-start colorInput '  onChange={(e) => setResponsavel1(e.target.value)} value={responsavel1} > \r\n             <option selected value=\"...\">Selecione...</option>  \r\n             \r\n             {nomeResponsavel2.map((equipamento) => ( <option key={equipamento.id} > {equipamento.nome} </option> ))}                  \r\n\r\n          </select>\r\n      </div>\r\n\r\n      <div class=\"col-3\">\r\n        <h6>Responsável</h6>\r\n        <select  className=' form-select align-items-center text-start colorInput '  onChange={(e) => setResponsavel2(e.target.value)} value={responsavel2} > \r\n             <option selected value=\"...\">Selecione...</option>  \r\n             \r\n             {nomeResponsavel.map((equipamento) => ( <option key={equipamento.id} > {equipamento.nome} </option> ))}                  \r\n\r\n          </select>\r\n      </div>\r\n\r\n\r\n      <div class=\"col-2\">\r\n  \r\n        </div>\r\n\r\n\r\n\r\n      \r\n    </div>\r\n </div>\r\n</body>\r\n\r\n<body class=\"container text-center p-2 mt-4 \">\r\n  \r\n\r\n  <h6>Descrição detalhada do problema </h6>       \r\n  <textarea cols={77} rows={4} className='form-control colorInput  resize ' onChange={(e) => setDescricaoproblema(e.target.value)} value={descricaoproblema} ></textarea>\r\n\r\n  <input className='mt-3' type=\"file\" onChange={handleImagemChange} />\r\n\r\n      {/* Exibição da prévia da imagem */}\r\n      {imagemPreview && (\r\n        <div>\r\n          <img src={imagemPreview} alt=\"Prévia da imagem\" style={{ maxWidth: '100px' }} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Botão de download */}\r\n      {imagem && (\r\n        <div>\r\n          <button onClick={handleDownloadClick}>Download</button>\r\n        </div>\r\n      )}\r\n\r\n  <br/>\r\n\r\n  <h6 className='mt-4'>Evidências </h6>       \r\n  <textarea cols={77} rows={4} className='form-control colorInput  resize '  onChange={(e) => setEvidencia1(e.target.value)} value={evidencia1} ></textarea>\r\n  <br/>\r\n \r\n</body>\r\n\r\n<div class=\"row d-flex align-items-end justify-content-end \">                   \r\n                <div class=\"col-4\">                 \r\n                <button  onClick={(e) =>  add(e)  }  class=\"btnlogin \" >Salvar</button>   \r\n                </div>         \r\n            </div>\r\n\r\n\r\n\r\n   \r\n</body>\r\n}\r\n\r\nexport default  RegistroDenaoconformidade;"],"mappings":"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"},"metadata":{},"sourceType":"module"}