{"ast":null,"code":"import { __extends } from \"tslib\";\nimport PDFDict from \"../objects/PDFDict\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFAcroField from \"./PDFAcroField\";\nimport PDFWidgetAnnotation from \"../annotation/PDFWidgetAnnotation\";\nimport { IndexOutOfBoundsError } from \"../errors\";\nvar PDFAcroTerminal = /** @class */function (_super) {\n  __extends(PDFAcroTerminal, _super);\n  function PDFAcroTerminal() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFAcroTerminal.prototype.FT = function () {\n    var nameOrRef = this.getInheritableAttribute(PDFName.of('FT'));\n    return this.dict.context.lookup(nameOrRef, PDFName);\n  };\n  PDFAcroTerminal.prototype.getWidgets = function () {\n    var kidDicts = this.Kids();\n    // This field is itself a widget\n    if (!kidDicts) return [PDFWidgetAnnotation.fromDict(this.dict)];\n    // This field's kids are its widgets\n    var widgets = new Array(kidDicts.size());\n    for (var idx = 0, len = kidDicts.size(); idx < len; idx++) {\n      var dict = kidDicts.lookup(idx, PDFDict);\n      widgets[idx] = PDFWidgetAnnotation.fromDict(dict);\n    }\n    return widgets;\n  };\n  PDFAcroTerminal.prototype.addWidget = function (ref) {\n    var Kids = this.normalizedEntries().Kids;\n    Kids.push(ref);\n  };\n  PDFAcroTerminal.prototype.removeWidget = function (idx) {\n    var kidDicts = this.Kids();\n    if (!kidDicts) {\n      // This field is itself a widget\n      if (idx !== 0) throw new IndexOutOfBoundsError(idx, 0, 0);\n      this.setKids([]);\n    } else {\n      // This field's kids are its widgets\n      if (idx < 0 || idx > kidDicts.size()) {\n        throw new IndexOutOfBoundsError(idx, 0, kidDicts.size());\n      }\n      kidDicts.remove(idx);\n    }\n  };\n  PDFAcroTerminal.prototype.normalizedEntries = function () {\n    var Kids = this.Kids();\n    // If this field is itself a widget (because it was only rendered once in\n    // the document, so the field and widget properties were merged) then we\n    // add itself to the `Kids` array. The alternative would be to try\n    // splitting apart the widget properties and creating a separate object\n    // for them.\n    if (!Kids) {\n      Kids = this.dict.context.obj([this.ref]);\n      this.dict.set(PDFName.of('Kids'), Kids);\n    }\n    return {\n      Kids: Kids\n    };\n  };\n  PDFAcroTerminal.fromDict = function (dict, ref) {\n    return new PDFAcroTerminal(dict, ref);\n  };\n  return PDFAcroTerminal;\n}(PDFAcroField);\nexport default PDFAcroTerminal;","map":{"version":3,"mappings":";AAAA,OAAOA,OAAO;AACd,OAAOC,OAAO;AAEd,OAAOC,YAAY;AACnB,OAAOC,mBAAmB;AAC1B,SAASC,qBAAqB,QAAE;AAEhC;EAA8BC;EAA9B;;EA6DA;EAzDEC,4BAAE,GAAF;IACE,IAAMC,SAAS,GAAG,IAAI,CAACC,uBAAuB,CAACP,OAAO,CAACQ,EAAE,CAAC,IAAI,CAAC,CAAC;IAChE,OAAO,IAAI,CAACC,IAAI,CAACC,OAAO,CAACC,MAAM,CAACL,SAAS,EAAEN,OAAO,CAAC;EACrD,CAAC;EAEDK,oCAAU,GAAV;IACE,IAAMO,QAAQ,GAAG,IAAI,CAACC,IAAI,EAAE;IAE5B;IACA,IAAI,CAACD,QAAQ,EAAE,OAAO,CAACV,mBAAmB,CAACY,QAAQ,CAAC,IAAI,CAACL,IAAI,CAAC,CAAC;IAE/D;IACA,IAAMM,OAAO,GAAG,IAAIC,KAAK,CAAsBJ,QAAQ,CAACK,IAAI,EAAE,CAAC;IAC/D,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEC,GAAG,GAAGP,QAAQ,CAACK,IAAI,EAAE,EAAEC,GAAG,GAAGC,GAAG,EAAED,GAAG,EAAE,EAAE;MACzD,IAAMT,IAAI,GAAGG,QAAQ,CAACD,MAAM,CAACO,GAAG,EAAEnB,OAAO,CAAC;MAC1CgB,OAAO,CAACG,GAAG,CAAC,GAAGhB,mBAAmB,CAACY,QAAQ,CAACL,IAAI,CAAC;;IAGnD,OAAOM,OAAO;EAChB,CAAC;EAEDV,mCAAS,GAAT,UAAUe,GAAW;IACX,QAAI,GAAK,IAAI,CAACC,iBAAiB,EAAE,KAA7B;IACZR,IAAI,CAACS,IAAI,CAACF,GAAG,CAAC;EAChB,CAAC;EAEDf,sCAAY,GAAZ,UAAaa,GAAW;IACtB,IAAMN,QAAQ,GAAG,IAAI,CAACC,IAAI,EAAE;IAE5B,IAAI,CAACD,QAAQ,EAAE;MACb;MACA,IAAIM,GAAG,KAAK,CAAC,EAAE,MAAM,IAAIf,qBAAqB,CAACe,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;MACzD,IAAI,CAACK,OAAO,CAAC,EAAE,CAAC;KACjB,MAAM;MACL;MACA,IAAIL,GAAG,GAAG,CAAC,IAAIA,GAAG,GAAGN,QAAQ,CAACK,IAAI,EAAE,EAAE;QACpC,MAAM,IAAId,qBAAqB,CAACe,GAAG,EAAE,CAAC,EAAEN,QAAQ,CAACK,IAAI,EAAE,CAAC;;MAE1DL,QAAQ,CAACY,MAAM,CAACN,GAAG,CAAC;;EAExB,CAAC;EAEDb,2CAAiB,GAAjB;IACE,IAAIQ,IAAI,GAAG,IAAI,CAACA,IAAI,EAAE;IAEtB;IACA;IACA;IACA;IACA;IACA,IAAI,CAACA,IAAI,EAAE;MACTA,IAAI,GAAG,IAAI,CAACJ,IAAI,CAACC,OAAO,CAACe,GAAG,CAAC,CAAC,IAAI,CAACL,GAAG,CAAC,CAAC;MACxC,IAAI,CAACX,IAAI,CAACiB,GAAG,CAAC1B,OAAO,CAACQ,EAAE,CAAC,MAAM,CAAC,EAAEK,IAAI,CAAC;;IAGzC,OAAO;MAAEA,IAAI;IAAA,CAAE;EACjB,CAAC;EA3DMR,wBAAQ,GAAG,UAACI,IAAa,EAAEW,GAAW;IAC3C,WAAIf,eAAe,CAACI,IAAI,EAAEW,GAAG,CAAC;EAA9B,CAA8B;EA2DlC,sBAAC;CAAA,CA7D6BnB,YAAY;AA+D1C,eAAeI,eAAe","names":["PDFDict","PDFName","PDFAcroField","PDFWidgetAnnotation","IndexOutOfBoundsError","__extends","PDFAcroTerminal","nameOrRef","getInheritableAttribute","of","dict","context","lookup","kidDicts","Kids","fromDict","widgets","Array","size","idx","len","ref","normalizedEntries","push","setKids","remove","obj","set"],"sourceRoot":"","sources":["../../../src/core/acroform/PDFAcroTerminal.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}