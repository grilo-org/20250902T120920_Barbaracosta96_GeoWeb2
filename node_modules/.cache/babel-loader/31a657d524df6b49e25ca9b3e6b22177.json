{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from'axios';// import Conexao from '../Config/conexao';\n// import Navbar from '../Components/Navbar/navbar';\nimport'./Ftp.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Ftp(){var _useState=useState('15125'),_useState2=_slicedToArray(_useState,2),amostra=_useState2[0],setAmostra=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setArquivo=_useState4[1];var _useState5=useState('ok'),_useState6=_slicedToArray(_useState5,2),statu=_useState6[0],setStatu=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),resu=_useState8[0],setResul=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),base64code=_useState10[0],setbase64code=_useState10[1];function add(){return _add.apply(this,arguments);}function _add(){_add=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData={image:image};_context.next=3;return axios.post('http://34.138.14.62/ApiReact/upload.php',formData);case 3:res=_context.sent;console.log(res.data);setResul(res.data);if(res.data.success===true){console.log(\"OK\");}case 7:case\"end\":return _context.stop();}}},_callee);}));return _add.apply(this,arguments);};var onChange=function onChange(e){var files=e.target.files;var file=files[0];getBase64(file);};var onLoad=function onLoad(fileString){//console.log(fileString);\nsetArquivo(fileString);setbase64code(fileString);};var getBase64=function getBase64(file){var reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(){onLoad(reader.result);};};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Ftp\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onChange}),/*#__PURE__*/_jsx(\"textarea\",{className:\"quadro\",rows:\"5\",cols:\"50\",value:base64code}),/*#__PURE__*/_jsx(\"textarea\",{className:\"quadro\",rows:\"5\",cols:\"50\",value:resu})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Ftp2\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:add,className:\"btn btn-primary\",type:\"button\",id:\"button-addon2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"}),\" Pesquisar\"]})})})]})});}export default Ftp;","map":{"version":3,"names":["React","useState","axios","Ftp","amostra","setAmostra","image","setArquivo","statu","setStatu","resu","setResul","base64code","setbase64code","add","formData","post","res","console","log","data","success","onChange","e","files","target","file","getBase64","onLoad","fileString","reader","FileReader","readAsDataURL","onload","result"],"sources":["C:/Users/sulli/Git/GeoWeb/src/app/Sondagem/Ftp.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios';\r\n// import Conexao from '../Config/conexao';\r\n// import Navbar from '../Components/Navbar/navbar';\r\nimport './Ftp.css'\r\n\r\nfunction Ftp() {\r\n  const [amostra, setAmostra] = useState('15125')\r\n  const [image, setArquivo] = useState()\r\n  const [statu, setStatu] = useState('ok')\r\nconst[resu,setResul] = useState()\r\n  const [base64code, setbase64code] = useState()\r\n\r\n  async function add() {\r\n    const formData = { image };\r\n\r\n\r\n    const res = await axios.post('http://34.138.14.62/ApiReact/upload.php', formData);\r\n    console.log(res.data)\r\n    setResul(res.data)\r\n    if (res.data.success === true) {\r\n      console.log(\"OK\")\r\n\r\n    }\r\n  };\r\n  const onChange = e => {\r\n    const files = e.target.files;\r\n    const file = files[0];\r\n    getBase64(file);\r\n  };\r\n\r\n  const onLoad = fileString => {\r\n    //console.log(fileString);\r\n    setArquivo(fileString)\r\n    setbase64code(fileString)\r\n  };\r\n\r\n  const getBase64 = file => {\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      onLoad(reader.result);\r\n    };\r\n  };\r\n  return (<div>\r\n\r\n    <div className=\"Ftp\">\r\n      <form>\r\n        <input type=\"file\" onChange={onChange} />\r\n\r\n        <textarea className=\"quadro\" rows=\"5\" cols=\"50\" value={base64code}></textarea>\r\n        <textarea className=\"quadro\" rows=\"5\" cols=\"50\" value={resu}></textarea>\r\n      </form>\r\n      <div className=\"Ftp2\">\r\n        <form>\r\n          <button onClick={add} className=\"btn btn-primary\" type=\"button\" id=\"button-addon2\"><i className=\"fas fa-search\"></i> Pesquisar</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\nexport default Ftp"],"mappings":"6aAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB;AACA;AACA,MAAO,WAAW,yFAElB,QAASC,IAAG,EAAG,CACb,cAA8BF,QAAQ,CAAC,OAAO,CAAC,wCAAxCG,OAAO,eAAEC,UAAU,eAC1B,eAA4BJ,QAAQ,EAAE,yCAA/BK,KAAK,eAAEC,UAAU,eACxB,eAA0BN,QAAQ,CAAC,IAAI,CAAC,yCAAjCO,KAAK,eAAEC,QAAQ,eACxB,eAAuBR,QAAQ,EAAE,yCAA3BS,IAAI,eAACC,QAAQ,eACjB,eAAoCV,QAAQ,EAAE,0CAAvCW,UAAU,gBAAEC,aAAa,gBAAc,QAE/BC,IAAG,mHAAlB,oJACQC,QAAQ,CAAG,CAAET,KAAK,CAALA,KAAM,CAAC,uBAGRJ,MAAK,CAACc,IAAI,CAAC,yCAAyC,CAAED,QAAQ,CAAC,QAA3EE,GAAG,eACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC,CACrBT,QAAQ,CAACM,GAAG,CAACG,IAAI,CAAC,CAClB,GAAIH,GAAG,CAACG,IAAI,CAACC,OAAO,GAAK,IAAI,CAAE,CAC7BH,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC,CAEnB,CAAC,sDACF,uCACD,GAAMG,SAAQ,CAAG,QAAXA,SAAQ,CAAGC,CAAC,CAAI,CACpB,GAAMC,MAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAC5B,GAAME,KAAI,CAAGF,KAAK,CAAC,CAAC,CAAC,CACrBG,SAAS,CAACD,IAAI,CAAC,CACjB,CAAC,CAED,GAAME,OAAM,CAAG,QAATA,OAAM,CAAGC,UAAU,CAAI,CAC3B;AACAtB,UAAU,CAACsB,UAAU,CAAC,CACtBhB,aAAa,CAACgB,UAAU,CAAC,CAC3B,CAAC,CAED,GAAMF,UAAS,CAAG,QAAZA,UAAS,CAAGD,IAAI,CAAI,CACxB,GAAII,OAAM,CAAG,GAAIC,WAAU,EAAE,CAC7BD,MAAM,CAACE,aAAa,CAACN,IAAI,CAAC,CAC1BI,MAAM,CAACG,MAAM,CAAG,UAAM,CACpBL,MAAM,CAACE,MAAM,CAACI,MAAM,CAAC,CACvB,CAAC,CACH,CAAC,CACD,mBAAQ,kCAEN,aAAK,SAAS,CAAC,KAAK,wBAClB,qCACE,cAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAEZ,QAAS,EAAG,cAEzC,iBAAU,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAEV,UAAW,EAAY,cAC9E,iBAAU,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAEF,IAAK,EAAY,GACnE,cACP,YAAK,SAAS,CAAC,MAAM,uBACnB,mCACE,gBAAQ,OAAO,CAAEI,GAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,eAAe,wBAAC,UAAG,SAAS,CAAC,eAAe,EAAK,gBAAmB,EAClI,EACH,GACF,EACF,CAER,CACA,cAAeX,IAAG"},"metadata":{},"sourceType":"module"}