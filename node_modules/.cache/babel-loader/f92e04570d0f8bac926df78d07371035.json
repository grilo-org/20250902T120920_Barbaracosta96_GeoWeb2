{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/sulli/Git/GeoWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,Redirect}from'react-router-dom';import'./login.css';import{AuthContext}from'../Context/auth';import axios from'axios';// npm i axios\nimport'firebase/auth';import Conexao from'../Config/conexao';import Navbar from'../../site/Components/Menu/menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),sucesso=_useState2[0],setSucesso=_useState2[1];var _useContext=useContext(AuthContext),setLogado=_useContext.setLogado;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),usuario=_useState4[0],setUsuario=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),senha=_useState6[0],setSenha=_useState6[1];function alterarEmail(event){setUsuario(event.target.value);}function alterarSenha(event){setSenha(event.target.value);}function login(){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var obj,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={usuario:usuario,senha:senha};_context.next=3;return axios.post(Conexao.api+'Login.php',obj);case 3:res=_context.sent;SalvaUser();if(res.data.success==='Dados Incorretos!'){setLogado(false);setSucesso('N');}else{setLogado(true);setSucesso('S');}case 6:case\"end\":return _context.stop();}}},_callee);}));return _login.apply(this,arguments);}function SalvaUser(){localStorage.usuario=document.getElementById(\"floatingInput\").value;}return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-center form-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-signin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-floating\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"Tnormal\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:alterarEmail,type:\"email\",className:\"form-control\",id:\"floatingInput\",name:\"usuarioLogin\",placeholder:\"E-mail\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Usu\\xE1rio\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:alterarSenha,type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Senha\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Senha\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:login,class:\"btnlogin\",children:\"Acessar\"}),sucesso==='N'?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-2\",role:\"alert\",children:\"E-mail ou senha inv\\xE1lida.\"}):null,sucesso==='S'?/*#__PURE__*/_jsx(Redirect,{to:\"/app/home\"}):null,/*#__PURE__*/_jsx(\"div\",{className:\"login-links mt-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/app/resetsenha\",className:\"mx-3\",children:\"Esqueci minha senha\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{className:\"mt-5 mb-3 text-muted\",href:\"https://shcompanytechnology.com/\",children:\"Desenvolvido \\xA9 SH Company Tecnology\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"mb-5\",src:\"../Images/Logo.jpg \",alt:\"Perfil\"})})]})]});}","map":{"version":3,"names":["React","useState","useContext","Link","Redirect","AuthContext","axios","Conexao","Navbar","Login","sucesso","setSucesso","setLogado","usuario","setUsuario","senha","setSenha","alterarEmail","event","target","value","alterarSenha","login","obj","post","api","res","SalvaUser","data","success","localStorage","document","getElementById"],"sources":["C:/Users/sulli/Git/GeoWeb/src/app/Login/login.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport './login.css';\r\nimport { AuthContext } from '../Context/auth';\r\nimport axios from 'axios'; // npm i axios\r\nimport 'firebase/auth';\r\nimport Conexao from '../Config/conexao';\r\nimport Navbar from '../../site/Components/Menu/menu';\r\nexport default function Login() {\r\n   \r\n\r\n  const [sucesso, setSucesso] = useState('');\r\n  const { setLogado } = useContext(AuthContext);\r\n  const [usuario, setUsuario] = useState('');\r\n  const [senha, setSenha] = useState('');\r\n \r\n\r\n  function alterarEmail(event) {\r\n    setUsuario(event.target.value);\r\n  }\r\n\r\n  function alterarSenha(event) {\r\n    setSenha(event.target.value);\r\n  }\r\n  async function login() {\r\n    const obj = { usuario, senha };\r\n    const res = await axios.post(Conexao.api  + 'Login.php', obj);\r\n    SalvaUser();\r\n    if (res.data.success === 'Dados Incorretos!') {\r\n      setLogado(false);\r\n      setSucesso('N');\r\n\r\n    } else {\r\n      setLogado(true);\r\n      setSucesso('S');\r\n      \r\n      \r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\nfunction SalvaUser(){\r\n  localStorage.usuario = document.getElementById (\"floatingInput\").value;\r\n  }\r\n  \r\n\r\n  return <div className=\"d-flex align-items-center text-center form-container\">\r\n<Navbar/>\r\n    <form className=\"form-signin\">\r\n      <div className=\"form-floating\">\r\n       \r\n        <h2 className=\"Tnormal\">Login</h2>\r\n      </div>\r\n      <div className=\"form-floating\">\r\n        <input onChange={alterarEmail} type=\"email\" className=\"form-control\" id=\"floatingInput\" name='usuarioLogin' placeholder=\"E-mail\" />\r\n        <label htmlFor=\"floatingInput\">Usuário</label>\r\n      </div>\r\n\r\n      <div className=\"form-floating\">\r\n        <input onChange={alterarSenha} type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Senha\" />\r\n        <label htmlFor=\"floatingPassword\">Senha</label>\r\n      </div>\r\n\r\n      <button onClick={login} class=\"btnlogin\">Acessar</button>\r\n       {sucesso === 'N' ? <div className=\"alert alert-danger mt-2\" role=\"alert\">E-mail ou senha inválida.</div> : null} \r\n   \r\n      {sucesso === 'S' ? <Redirect to='/app/home'   /> : null   } \r\n\r\n      <div className=\"login-links mt-5\">\r\n        <Link to=\"/app/resetsenha\" className=\"mx-3\">Esqueci minha senha</Link>\r\n        {/* <Link to=\"/app/novaconta\" className=\"mx-3\">Criar uma conta</Link> */}\r\n      </div>\r\n      <br></br>\r\n      <br></br>\r\n      <br></br>\r\n      <a className=\"mt-5 mb-3 text-muted\" href=\"https://shcompanytechnology.com/\" >Desenvolvido &copy; SH Company Tecnology</a>\r\n      <div>\r\n        <img className=\"mb-5\" src=\"../Images/Logo.jpg \" alt=\"Perfil\" />\r\n      </div>\r\n    </form>\r\n\r\n  </div>\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}